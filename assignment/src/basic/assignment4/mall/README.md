# 결제 시스템 (Payment System)

## 🎯 목표

- 다양한 결제 방식(신용카드, 계좌이체, 모바일)을 지원하는 확장 가능한 결제 시스템을 구현합니다.
- **전략 패턴(Strategy Pattern)**을 활용하여 결제 수단을 동적으로 변경할 수 있는 유연한 구조를 설계합니다.
- **Simple Factory 패턴**으로 객체 생성 로직을 중앙 관리하여 코드 중복을 제거합니다.
- 인터페이스 기반 설계를 통해 다형성과 확장성을 극대화합니다.

## ✨ 주요 기능

### 1. 결제 수단 인터페이스 (`pay` 패키지)

#### **Pay 인터페이스**

- 모든 결제 수단이 구현해야 할 공통 인터페이스
- 다형성의 핵심 요소

#### **구체적인 결제 수단 구현체**

1. **CreditCardPay (신용카드 결제)**

   - 수수료 없음
   - 결제 한도 제한 없음
   - 모든 금액 결제 가능

2. **BankTransferPay (계좌이체 결제)**

   - 결제 금액의 10% 수수료 부과
   - private 메서드로 수수료 계산 캡슐화
   - 수수료 정보를 명확하게 출력

3. **MobilePay (모바일 결제)**

   - 50,000원 미만만 결제 가능
   - `static final` 상수로 결제 한도 관리
   - 한도 초과 시 결제 실패 반환

4. **FailPay (실패 처리)**
   - **Null Object 패턴** 구현
   - 지원하지 않는 결제 방식 처리
   - 예외 대신 안전한 실패 처리

### 2. 서비스 레이어 (`service` 패키지)

#### **PayStore (결제 수단 팩토리)**

- **Simple Factory 패턴** 구현
- `static` 메서드로 객체 생성 로직 중앙 관리
- `abstract class`로 인스턴스화 방지
- 결제 방식 문자열을 기반으로 적절한 구현체 반환

#### **PayService (결제 프로세스 처리)**

- 결제 프로세스 전체를 관리
- PayStore를 통해 결제 수단 조회
- 다형성을 활용한 결제 실행
- 결제 결과에 따른 후속 처리

### 3. 메인 애플리케이션

**PayMain**

- 5가지 시나리오 테스트
  1. 신용카드 결제 (성공)
  2. 계좌이체 결제 (수수료 포함)
  3. 모바일 결제 - 한도 이내 (성공)
  4. 모바일 결제 - 한도 초과 (실패)
  5. 잘못된 결제 방식 (실패)

## 📊 실행 결과 예시

```
결제를 시작합니다.
신용카드로 10000원 결제를 시도합니다.
결제를 완료했습니다.
--------------------
결제를 시작합니다.
계좌이체로 20000원 결제를 시도합니다.
수수료 2000원이 추가됩니다.
결제를 완료했습니다.
--------------------
결제를 시작합니다.
모바일 페이로 45000원 결제를 시도합니다.
결제가 성공했습니다.
결제를 완료했습니다.
--------------------
결제를 시작합니다.
모바일 페이로 60000원 결제를 시도합니다.
결제 한도를 초과했습니다.
결제를 실패했습니다.
--------------------
결제를 시작합니다.
결제방법이 틀렸습니다. 다시 시도하세요.
결제를 실패했습니다.
```

## 💡 학습 포인트

1. **디자인 패턴**

   - 전략 패턴으로 알고리즘 캡슐화
   - Factory 패턴으로 객체 생성 관리
   - Null Object 패턴으로 안전한 예외 처리

2. **객체 지향 원칙**

   - 다형성을 활용한 유연한 설계
   - 인터페이스를 통한 추상화
   - 구체 클래스 대신 인터페이스에 의존

3. **Java 키워드**

   - `static final`로 상수 정의
   - `static` 메서드로 유틸리티 함수 구현
   - `abstract class`로 인스턴스화 방지

4. **확장성**
   - 새로운 결제 수단 추가가 매우 쉬움
   - 기존 코드 수정 없이 기능 확장 가능
   - 유지보수가 용이한 구조
