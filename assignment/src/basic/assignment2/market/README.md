# 쇼핑몰 시스템 설계 (개선 버전)

## 🎯 목표

- Java의 패키지 구조와 접근 제어자를 활용하여 객체 지향 설계 원칙을 적용한 쇼핑몰 시스템입니다.
- 기존 시스템(assignment1)의 코드를 체계적인 패키지 구조로 리팩토링하여 확장성과 유지보수성을 향상시킵니다.
- 도메인별로 패키지를 분리하여 관심사의 분리(Separation of Concerns)를 실현합니다.

## ✨ 주요 기능

### 1. 회원 관리 (`member` 패키지)

- **Member**: 회원 정보(ID, 이름, 등급) 관리
- **Grade**: 회원 등급 정의 (BASIC, VIP)
- 회원 등급에 따른 차별화된 서비스 제공

### 2. 상품 관리 (`item` 패키지)

- **Item**: 상품 정보(상품명, 가격, 재고) 관리
- 재고 차감 기능 (`removeStock`)
- 재고 부족 시 에러 처리
- 총 가격 계산 기능

### 3. 주문 관리 (`order` 패키지)

- **Order**: 주문 정보(주문ID, 회원ID, 상품 목록, 총 금액, 최종 금액) 관리
- **OrderService**: 주문 생성 및 처리 로직
  - 주문 생성 시 자동으로 orderId 부여
  - 할인 정책 적용
  - 재고 자동 차감

### 4. 할인 정책 (`policy` 패키지)

- **DiscountPolicy**: 회원 등급에 따른 할인 적용
  - VIP 회원: 10% 할인
  - BASIC 회원: 할인 없음

### 5. 애플리케이션 실행

- **MarketApp**: 메인 애플리케이션
  - 회원 생성 및 주문 시나리오 시연
  - 재고 상태 확인
  - 주문 전후 재고 변화 추적

## 🔧 개선사항 (assignment1 대비)

### 1. 패키지 구조화

**Before (assignment1):**

```
basic.assignment1/
  ├── Member.java
  ├── Grade.java
  ├── Item.java
  ├── Order.java
  ├── OrderService.java
  └── ...
```

**After (assignment2):**

```
basic.assignment2.market/
  ├── item/
  │   └── Item.java
  ├── member/
  │   ├── Member.java
  │   └── Grade.java
  ├── order/
  │   ├── Order.java
  │   └── OrderService.java
  └── policy/
      └── DiscountPolicy.java
```

### 2. 관심사의 분리 (Separation of Concerns)

- **도메인별 패키지 분리**: 각 도메인(item, member, order, policy)을 독립적인 패키지로 관리
- **단일 책임 원칙**: 각 클래스와 패키지가 명확한 역할과 책임을 가짐
- **유지보수 용이성**: 특정 기능 수정 시 해당 패키지만 수정하면 됨

### 3. 확장성 향상

- 새로운 할인 정책 추가 시 `policy` 패키지에서만 작업
- 새로운 상품 타입 추가 시 `item` 패키지에서만 작업
- 도메인 간 의존성이 명확하여 변경 영향 범위 파악 용이

### 4. 코드 가독성 개선

- 패키지 구조를 통해 시스템의 전체 구조를 한눈에 파악 가능
- import 문을 통해 클래스 간 의존관계 명확히 확인 가능
- 네이밍 컨벤션이 더욱 명확해짐

### 5. 협업 효율성 증가

- 도메인별로 작업 분담이 용이
- 패키지 단위로 코드 리뷰 가능
- 충돌(conflict) 발생 가능성 감소

## 📊 실행 결과 예시

```
--- 초기 재고 상태 ---
노트북 재고: 10
마우스 재고: 20
키보드 재고: 15
======================================

--- [시나리오 1] VIP 회원 주문 ---
주문이 완료되었습니다.
총 주문 금액: 1100000원
할인 적용된 최종 결제 금액: 990000원

--- 주문 후 재고 상태 ---
노트북 재고: 9
마우스 재고: 18
======================================
```

## 🏗️ 설계 원칙

1. **패키지 구조**: 도메인 중심 설계(Domain-Driven Design)
2. **캡슐화**: private 필드와 public 메서드를 통한 데이터 보호
3. **단일 책임**: 각 클래스는 하나의 명확한 책임만 가짐
4. **의존성 관리**: 패키지 간 명확한 의존 관계 설정

## 💡 학습 포인트

- Java 패키지의 필요성과 활용법
- 접근 제어자(public, private)의 적절한 사용
- 도메인별 코드 구조화 방법
- 확장 가능한 시스템 설계 방법
- 객체 지향 설계 원칙의 실제 적용
